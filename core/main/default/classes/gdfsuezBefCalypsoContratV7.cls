//Generated by FuseIT WSDL2Apex (http://www.fuseit.com/Solutions/SFDC-Explorer/Help-WSDL-Parser.aspx)
//Methods Included: RechercherContrat
//Methods Excluded: LireContrat, MajContrat
// Primary Port Class Name: Dependency  
public class gdfsuezBefCalypsoContratV7 {
    public class Dependency {
        public String endpoint_x = 'http://localhost:8080/services/Contrat/v6';
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'http://gdfsuez.com/bef/chp/pivot','gdfsuezComBefChpPivotContrat','http://gdfsuez.com/bef/calypso/contrat','gdfsuezComBefCalypsoContrat'};

        public gdfsuezBefCalypsoContratV7.rechercherContratResponse_element RechercherContrat(gdfsuezBefCalypsoContratV7.rechercherContratInputDt rechercherContratInput,gdfsuezComBefChpPivotContrat.contextDt context) {
            gdfsuezBefCalypsoContratV7.rechercherContrat_element request_x = new gdfsuezBefCalypsoContratV7.rechercherContrat_element();
            gdfsuezBefCalypsoContratV7.rechercherContratResponse_element response_x;
            request_x.rechercherContratInput = rechercherContratInput;
            request_x.context = context;
            Map<String, gdfsuezBefCalypsoContratV7.rechercherContratResponse_element> response_map_x = new Map<String, gdfsuezBefCalypsoContratV7.rechercherContratResponse_element>();
            response_map_x.put('response_x', response_x);
            
            if (APU002_Context.isCalloutTrackingEnabled()){
                ITF005_SoapRequestManager rechercherContratService = new DM005_SoapRequestService('RECHERCHER_CONTRAT');
                WRP004_SoapRequest soapRequestInfos = new WRP004_SoapRequest();
                soapRequestInfos.stub = this;
                soapRequestInfos.request = request_x;
                soapRequestInfos.response = response_map_x;
                soapRequestInfos.infoArray = new String[]{endpoint_x,
                    'tns:RechercherContrat',
                    'http://gdfsuez/bef/calypso/contrat/v7',
                    'rechercherContrat',
                    'http://gdfsuez/bef/calypso/contrat/v7',
                    'rechercherContratResponse',
                    'gdfsuezBefCalypsoContratV7.rechercherContratResponse_element'};

                rechercherContratService.sendRequest(soapRequestInfos);
                response_x = (gdfsuezBefCalypsoContratV7.rechercherContratResponse_element) soapRequestInfos.response.get('response_x');
            } else {
            
                WebServiceCallout.invoke(
                    this,
                    request_x,
                    response_map_x,
                    new String[]{endpoint_x,
                    'tns:RechercherContrat',
                    'http://gdfsuez/bef/calypso/contrat/v7',
                    'rechercherContrat',
                    'http://gdfsuez/bef/calypso/contrat/v7',
                    'rechercherContratResponse',
                    'gdfsuezBefCalypsoContratV7.rechercherContratResponse_element'}
                );
                response_x = response_map_x.get('response_x');
            }
            return response_x;
        }
        
        private DOM.XmlNode populateDoc(DOM.Document doc){
            String env = 'http://schemas.xmlsoap.org/soap/envelope/';
            String xsi = 'http://www.w3.org/2001/XMLSchema-instance';
            String xsd = 'http://www.w3.org/2001/XMLSchema';
            
            DOM.XmlNode envelope = doc.createRootElement('soapenv:Envelope', null, null);
            envelope.setNamespace('v7', 'http://gdfsuez/bef/calypso/contrat/v7');
            envelope.setNamespace('soapenv', 'http://schemas.xmlsoap.org/soap/envelope/');
            DOM.XmlNode header = envelope.addChildElement('soapenv:Header', null, null);
            AddHeader(header);
            //System.debug(doc.toXmlString());
            DOM.XmlNode body = envelope.addChildElement('soapenv:Body', null, null);
            return body;
        }

        private void AddHeader(DOM.XmlNode header){
        }

        public gdfsuezBefCalypsoContratV7.rechercherContratResponse_element RechercherContrat_Http(gdfsuezBefCalypsoContratV7.rechercherContratInputDt rechercherContratInput,gdfsuezComBefChpPivotContrat.contextDt context) {
            DOM.Document doc = new DOM.Document();
            DOM.XmlNode body = populateDoc(doc);
            DOM.XmlNode methodNode = body.addChildElement('v7:rechercherContrat',null, null);            
            gdfsuezBefCalypsoContratV7.rechercherContrat_element request_x = new gdfsuezBefCalypsoContratV7.rechercherContrat_element(rechercherContratInput,context);
            request_x.populateXmlNode(methodNode);
            gdfsuezBefCalypsoContratV7.rechercherContratResponse_element response_x;

            if (APU002_Context.isCalloutTrackingEnabled()){
                ITF004_HttpRequestManager rechercherContratService = new DM003_HttpRequestService('RECHERCHER_CONTRAT');
                WRP003_HttpRequest httpRequestInfos = new WRP003_HttpRequest();
                httpRequestInfos.requestType = 'POST';
                httpRequestInfos.bodyDocument = doc;

                rechercherContratService.sendRequest(httpRequestInfos);

                Dom.Document responseDoc = httpRequestInfos.httpResponse.getBodyDocument();
                Dom.XmlNode rootNode = responseDoc.getRootElement();
                Dom.XmlNode bodyNode = rootNode.getChildElement('Body','http://schemas.xmlsoap.org/soap/envelope/');
                Dom.XmlNode rechercherContratResponseNode = bodyNode.getChildElement('rechercherContratResponse', 'http://gdfsuez/bef/calypso/contrat/v7');
                            
                response_x = new gdfsuezBefCalypsoContratV7.rechercherContratResponse_element(rechercherContratResponseNode);
            } else {
            
                HttpRequest req = new HttpRequest();
                req.setEndpoint(endpoint_x);
                req.setMethod('POST');
                if(!Test.isRunningTest()){
                    req.setClientCertificateName(SM_OCTOPUS__c.getOrgDefaults().certName__c);
                }
                req.setHeader('Content-Type', 'text/xml; charset=UTF-8');
                req.setHeader('SOAPAction', 'tns:RechercherContrat');
                req.setBodyDocument(doc);
                system.debug('request => '+doc.toXmlString());
                Http http = new Http();
                HTTPResponse res = http.send(req);
                System.debug(res.getBody());
                Dom.Document responseDoc = res.getBodyDocument();
                Dom.XmlNode rootNode = responseDoc.getRootElement();
                Dom.XmlNode bodyNode = rootNode.getChildElement('Body','http://schemas.xmlsoap.org/soap/envelope/');
                Dom.XmlNode rechercherContratResponseNode = bodyNode.getChildElement('rechercherContratResponse', 'http://gdfsuez/bef/calypso/contrat/v7');
                            
                response_x = new gdfsuezBefCalypsoContratV7.rechercherContratResponse_element(rechercherContratResponseNode);
            }
            return response_x;
        }
    }
    public class lireContratInputDt {
        public gdfsuezComBefCalypsoContrat.ContratAbstract[] contrat;
        private String[] contrat_type_info = new String[]{'contrat','http://gdfsuez/bef/calypso/contrat/v7','ContratAbstract','0','-1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'contrat'};
        public lireContratInputDt(){
        }
        public lireContratInputDt(DOM.XmlNode responseNode){
            Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
            Dom.XmlNode[] contratChildren = responseNode.getChildElements();
            gdfsuezComBefCalypsoContrat.ContratAbstract[] contratList = new List<gdfsuezComBefCalypsoContrat.ContratAbstract>();
            if(contratChildren == null || contratChildren.size() == 0){
                this.contrat = null;
            } else{
                for(DOM.XmlNode childNode : contratChildren){
                    if(childNode.GetName() == 'contrat'){
                        gdfsuezComBefCalypsoContrat.ContratAbstract Obj = new gdfsuezComBefCalypsoContrat.ContratAbstract(childNode);
                        contratList.Add(Obj);
                        nodesParsed.add(childNode);
                    }
                }
                this.contrat = contratList;
            }
            //System.debug(this.contrat);           
        }
        public void populateXmlNode(Dom.XmlNode outerNode){
            
            gdfsuezComBefCalypsoContrat.ContratAbstract[] contratObj = this.contrat;
            if(contratObj != null){
                for(gdfsuezComBefCalypsoContrat.ContratAbstract element: contratObj){
                    Dom.XmlNode contratNode = outerNode.addChildElement('contrat', 'http://gdfsuez/bef/calypso/contrat/v7', '');
                    element.populateXmlNode(contratNode);
                }
            }           
        }
    }
    public class lireContratOutputDt {
        public gdfsuezComBefCalypsoContrat.Contrat[] contrat;
        private String[] contrat_type_info = new String[]{'contrat','http://gdfsuez/bef/calypso/contrat/v7','Contrat','0','-1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'contrat'};
        public lireContratOutputDt(){
        }
        public lireContratOutputDt(DOM.XmlNode responseNode){
            Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
            Dom.XmlNode[] contratChildren = responseNode.getChildElements();
            gdfsuezComBefCalypsoContrat.Contrat[] contratList = new List<gdfsuezComBefCalypsoContrat.Contrat>();
            if(contratChildren == null || contratChildren.size() == 0){
                this.contrat = null;
            } else{
                for(DOM.XmlNode childNode : contratChildren){
                    if(childNode.GetName() == 'contrat'){
                        gdfsuezComBefCalypsoContrat.Contrat Obj = new gdfsuezComBefCalypsoContrat.Contrat(childNode);
                        contratList.Add(Obj);
                        nodesParsed.add(childNode);
                    }
                }
                this.contrat = contratList;
            }
            //System.debug(this.contrat);           
        }
        public void populateXmlNode(Dom.XmlNode outerNode){
            
            gdfsuezComBefCalypsoContrat.Contrat[] contratObj = this.contrat;
            if(contratObj != null){
                for(gdfsuezComBefCalypsoContrat.Contrat element: contratObj){
                    Dom.XmlNode contratNode = outerNode.addChildElement('contrat', 'http://gdfsuez/bef/calypso/contrat/v7', '');
                    element.populateXmlNode(contratNode);
                }
            }           
        }
    }
    public class majContratInputDt {
        public gdfsuezComBefCalypsoContrat.Contrat contrat;
        private String[] contrat_type_info = new String[]{'contrat','http://gdfsuez/bef/calypso/contrat/v7','Contrat','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'contrat'};
        public majContratInputDt(){
        }
        public majContratInputDt(DOM.XmlNode responseNode){
            Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
            DOM.XmlNode contratNode = responseNode.getChildElement('contrat', 'http://gdfsuez/bef/calypso/contrat/v7');
            if(contratNode == null){
                this.contrat = null;
            } else{
                gdfsuezComBefCalypsoContrat.Contrat contratObj = new gdfsuezComBefCalypsoContrat.Contrat(contratNode);
                nodesParsed.add(contratNode);
                this.contrat = contratObj;
            }
            //System.debug(this.contrat);           
        }
        public void populateXmlNode(Dom.XmlNode outerNode){
            
            gdfsuezComBefCalypsoContrat.Contrat contratObj = this.contrat;
            Dom.XmlNode contratNode = outerNode.addChildElement('contrat', 'http://gdfsuez/bef/calypso/contrat/v7', '');
            if(contratObj != null){
                contratObj.populateXmlNode(contratNode);
            }
        }
    }
    public class rechercherContrat_element {
        public gdfsuezBefCalypsoContratV7.rechercherContratInputDt rechercherContratInput;
        public gdfsuezComBefChpPivotContrat.contextDt context;
        private String[] rechercherContratInput_type_info = new String[]{'rechercherContratInput','http://gdfsuez/bef/calypso/contrat/v7','rechercherContratInputDt','1','1','false'};
        private String[] context_type_info = new String[]{'context','http://gdfsuez/bef/calypso/contrat/v7','contextDt','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'rechercherContratInput','context'};
        public rechercherContrat_element(){
        }
        public rechercherContrat_element(gdfsuezBefCalypsoContratV7.rechercherContratInputDt rechercherContratInput,gdfsuezComBefChpPivotContrat.contextDt context){
            this.rechercherContratInput = rechercherContratInput;
            this.context = context;
        }
        public void populateXmlNode(Dom.XmlNode outerNode){
            
            //System.assertEquals('RechercherContrat', outerNode.getName());
            
            gdfsuezBefCalypsoContratV7.rechercherContratInputDt rechercherContratInputObj = this.rechercherContratInput;
            Dom.XmlNode rechercherContratInputNode = outerNode.addChildElement('rechercherContratInput', null, null);
            if(rechercherContratInputObj != null){
                rechercherContratInputObj.populateXmlNode(rechercherContratInputNode);
            }
            
            gdfsuezComBefChpPivotContrat.contextDt contextObj = this.context;
            Dom.XmlNode contextNode = outerNode.addChildElement('context', null, null);
            if(contextObj != null){
                contextObj.populateXmlNode(contextNode);
            }
        }
    }
    public class rechercherContratInputDt {
        public String idPersonne;
        public String idCompteClient;
        public gdfsuezComBefChpPivotContrat.listeValeursDt statutComposante;
        public gdfsuezComBefChpPivotContrat.searchControlRequestHeaderDt searchControlRequest;
        private String[] idPersonne_type_info = new String[]{'idPersonne','http://gdfsuez/bef/calypso/contrat/v7','string10','1','1','false'};
        private String[] idCompteClient_type_info = new String[]{'idCompteClient','http://gdfsuez/bef/calypso/contrat/v7','string12','0','1','false'};
        private String[] statutComposante_type_info = new String[]{'statutComposante','http://gdfsuez/bef/calypso/contrat/v7','listeValeursDt','0','1','false'};
        private String[] searchControlRequest_type_info = new String[]{'searchControlRequest','http://gdfsuez/bef/calypso/contrat/v7','searchControlRequestHeaderDt','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'idPersonne','idCompteClient','statutComposante','searchControlRequest'};
        public rechercherContratInputDt(){
        }
        public rechercherContratInputDt(DOM.XmlNode responseNode){
            Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
            DOM.XmlNode idPersonneNode = responseNode.getChildElement('idPersonne', null);
            this.idPersonne = (idPersonneNode == null) ? null : idPersonneNode.getText();
            nodesParsed.add(idPersonneNode);
            //System.debug(this.idPersonne);            
            DOM.XmlNode idCompteClientNode = responseNode.getChildElement('idCompteClient', null);
            this.idCompteClient = (idCompteClientNode == null) ? null : idCompteClientNode.getText();
            nodesParsed.add(idCompteClientNode);
            //System.debug(this.idCompteClient);            
            DOM.XmlNode statutComposanteNode = responseNode.getChildElement('statutComposante', null);
            if(statutComposanteNode == null){
                this.statutComposante = null;
            } else{
                gdfsuezComBefChpPivotContrat.listeValeursDt statutComposanteObj = new gdfsuezComBefChpPivotContrat.listeValeursDt(statutComposanteNode);
                nodesParsed.add(statutComposanteNode);
                this.statutComposante = statutComposanteObj;
            }
            //System.debug(this.statutComposante);          
            DOM.XmlNode searchControlRequestNode = responseNode.getChildElement('searchControlRequest', null);
            if(searchControlRequestNode == null){
                this.searchControlRequest = null;
            } else{
                gdfsuezComBefChpPivotContrat.searchControlRequestHeaderDt searchControlRequestObj = new gdfsuezComBefChpPivotContrat.searchControlRequestHeaderDt(searchControlRequestNode);
                nodesParsed.add(searchControlRequestNode);
                this.searchControlRequest = searchControlRequestObj;
            }
            //System.debug(this.searchControlRequest);          
        }
        public void populateXmlNode(Dom.XmlNode outerNode){
            
            if(this.idPersonne != null){
                Dom.XmlNode idPersonneNode = outerNode.addChildElement('idPersonne', null, null);
                idPersonneNode.addTextNode(this.idPersonne);
            }

            if(this.idCompteClient != null){
                Dom.XmlNode idCompteClientNode = outerNode.addChildElement('idCompteClient', null, null);
                idCompteClientNode.addTextNode((this.idCompteClient == null) ? '' : this.idCompteClient);
            }

            gdfsuezComBefChpPivotContrat.listeValeursDt statutComposanteObj = this.statutComposante;
            if(statutComposanteObj != null){
                Dom.XmlNode statutComposanteNode = outerNode.addChildElement('statutComposante', null, null);
                statutComposanteObj.populateXmlNode(statutComposanteNode);
            }
            
            gdfsuezComBefChpPivotContrat.searchControlRequestHeaderDt searchControlRequestObj = this.searchControlRequest;
            Dom.XmlNode searchControlRequestNode = outerNode.addChildElement('searchControlRequest', null, null);
            if(searchControlRequestObj != null){
                searchControlRequestObj.populateXmlNode(searchControlRequestNode);
            }
        }
    }
    public class rechercherContratOutputDt {
        public gdfsuezComBefCalypsoContrat.Contrat[] contrat;
        public gdfsuezComBefChpPivotContrat.paginationDt searchControlResponse;
        private String[] contrat_type_info = new String[]{'contrat','http://gdfsuez/bef/calypso/contrat/v7','Contrat','1','-1','false'};
        private String[] searchControlResponse_type_info = new String[]{'searchControlResponse','http://gdfsuez/bef/calypso/contrat/v7','paginationDt','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'contrat','searchControlResponse'};
        public rechercherContratOutputDt(){
        }
        public rechercherContratOutputDt(DOM.XmlNode responseNode){
            Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
            Dom.XmlNode[] contratChildren = responseNode.getChildElements();
            gdfsuezComBefCalypsoContrat.Contrat[] contratList = new List<gdfsuezComBefCalypsoContrat.Contrat>();
            if(contratChildren == null || contratChildren.size() == 0){
                this.contrat = null;
            } else{
                for(DOM.XmlNode childNode : contratChildren){
                    if(childNode.GetName() == 'contrat'){
                        gdfsuezComBefCalypsoContrat.Contrat Obj = new gdfsuezComBefCalypsoContrat.Contrat(childNode);
                        contratList.Add(Obj);
                        nodesParsed.add(childNode);
                    }
                }
                this.contrat = contratList;
            }
            //System.debug(this.contrat);           
            DOM.XmlNode searchControlResponseNode = responseNode.getChildElement('searchControlResponse', null);
            if(searchControlResponseNode == null){
                this.searchControlResponse = null;
            } else{
                gdfsuezComBefChpPivotContrat.paginationDt searchControlResponseObj = new gdfsuezComBefChpPivotContrat.paginationDt(searchControlResponseNode);
                nodesParsed.add(searchControlResponseNode);
                this.searchControlResponse = searchControlResponseObj;
            }
            //System.debug(this.searchControlResponse);         
        }
        public void populateXmlNode(Dom.XmlNode outerNode){
            
            gdfsuezComBefCalypsoContrat.Contrat[] contratObj = this.contrat;
            if(contratObj != null){
                for(gdfsuezComBefCalypsoContrat.Contrat element: contratObj){
                    Dom.XmlNode contratNode = outerNode.addChildElement('contrat', 'http://gdfsuez/bef/calypso/contrat/v7', '');
                    element.populateXmlNode(contratNode);
                }
            }           
            
            gdfsuezComBefChpPivotContrat.paginationDt searchControlResponseObj = this.searchControlResponse;
            Dom.XmlNode searchControlResponseNode = outerNode.addChildElement('searchControlResponse', 'http://gdfsuez/bef/calypso/contrat/v7', '');
            if(searchControlResponseObj != null){
                searchControlResponseObj.populateXmlNode(searchControlResponseNode);
            }
        }
    }
    public class rechercherContratResponse_element {
        public gdfsuezBefCalypsoContratV7.rechercherContratOutputDt rechercherContratOutput;
        public gdfsuezComBefChpPivotContrat.retourTraitementMessagesDt messageRetours;
        private String[] rechercherContratOutput_type_info = new String[]{'rechercherContratOutput','http://gdfsuez/bef/calypso/contrat/v7','rechercherContratOutputDt','0','1','false'};
        private String[] messageRetours_type_info = new String[]{'messageRetours','http://gdfsuez/bef/calypso/contrat/v7','retourTraitementMessagesDt','1','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://gdfsuez/bef/calypso/contrat/v7','true','false'};
        private String[] field_order_type_info = new String[]{'rechercherContratOutput','messageRetours'};
        public rechercherContratResponse_element(){
        }
        public rechercherContratResponse_element(DOM.XmlNode responseNode){
            Set<DOM.XmlNode> nodesParsed = new Set<DOM.XmlNode>();
            //System.assertEquals('RechercherContratResponse', responseNode.getName());
            DOM.XmlNode rechercherContratOutputNode = responseNode.getChildElement('rechercherContratOutput', null);
            if(rechercherContratOutputNode == null){
                this.rechercherContratOutput = null;
            } else{
                gdfsuezBefCalypsoContratV7.rechercherContratOutputDt rechercherContratOutputObj = new gdfsuezBefCalypsoContratV7.rechercherContratOutputDt(rechercherContratOutputNode);
                nodesParsed.add(rechercherContratOutputNode);
                this.rechercherContratOutput = rechercherContratOutputObj;
            }
            //System.debug(this.rechercherContratOutput);           
            DOM.XmlNode messageRetoursNode = responseNode.getChildElement('messageRetours', null);
            if(messageRetoursNode == null){
                this.messageRetours = null;
            } else{
                gdfsuezComBefChpPivotContrat.retourTraitementMessagesDt messageRetoursObj = new gdfsuezComBefChpPivotContrat.retourTraitementMessagesDt(messageRetoursNode);
                nodesParsed.add(messageRetoursNode);
                this.messageRetours = messageRetoursObj;
            }
            //System.debug(this.messageRetours);            
        }
    }
}