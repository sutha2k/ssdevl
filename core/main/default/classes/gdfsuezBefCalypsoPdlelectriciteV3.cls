/**
 * @File Name          : gdfsuezBefCalypsoPdlelectriciteV3.cls
 * @Description        : 
 * @Author             : Vincent Albiser
 * @Group              : 
 * @Last Modified By   : Vincent Albiser
 * @Last Modified On   : 03/04/2020 Ã  04:35:03
 * @Modification Log   : 
 * Ver       Date            Author      		    Modification
 * 1.0    03/04/2020   Vincent Albiser     Initial Version
**/
//Generated by wsdl2apex

public class gdfsuezBefCalypsoPdlelectriciteV3 {
	public class PDLElectricite_element {
		public gdfsuezComBefCalypsoPdlelectricite.PDLElectriciteAbstract PDLElectricite;
		public gdfsuezBefCalypsoPdlelectriciteV3.accordFournisseurNonTitulaire_element accordFournisseurNonTitulaire;
		private String[] PDLElectricite_type_info = new String[] {'PDLElectricite','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] accordFournisseurNonTitulaire_type_info = new String[] {'accordFournisseurNonTitulaire','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'PDLElectricite','accordFournisseurNonTitulaire'};
	}
	public class creerPDLElectricite_element {
		public gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteInputDt creerPDLElectriciteInput;
		public gdfsuezComBefChpPivot.contextDt contextDt;
		private String[] creerPDLElectriciteInput_type_info = new String[] {'creerPDLElectriciteInput','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] contextDt_type_info = new String[] {'contextDt','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'creerPDLElectriciteInput','contextDt'};
	}
	public class creerPDLElectriciteOutputDt {
		public gdfsuezComBefCalypsoPdlelectricite.PDLElectriciteAbstract PDLElectricite;
		private String[] PDLElectricite_type_info = new String[] {'PDLElectricite','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'PDLElectricite'};
	}
	public class majPDLElectriciteOutputDt {
		public Boolean priseEnCompteFournisseur;
		private String[] priseEnCompteFournisseur_type_info = new String[] {'priseEnCompteFournisseur','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'priseEnCompteFournisseur'};
	}
	public class lirePDLElectriciteResponse_element {
		public gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteOutputDt lirePDLElectriciteOutput;
		public gdfsuezComBefChpPivot.retourTraitementMessagesDt messageRetours;
		private String[] lirePDLElectriciteOutput_type_info = new String[] {'lirePDLElectriciteOutput','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] messageRetours_type_info = new String[] {'messageRetours','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'lirePDLElectriciteOutput','messageRetours'};

		public override String toString()
		{
			return 'lire pdl  electricite : '+lirePDLElectriciteOutput+ 'message retours ' +messageRetours;
		}
	}
	public class majPDLElectricite_element {
		public gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteInputDt majPDLElectriciteInput;
		public gdfsuezComBefChpPivot.contextDt context;
		private String[] majPDLElectriciteInput_type_info = new String[] {'majPDLElectriciteInput','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] context_type_info = new String[] {'context','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'majPDLElectriciteInput','context'};
	}
	public class creerPDLElectriciteResponse_element {
		public gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteOutputDt creerPDLElectriciteOutput;
		public gdfsuezComBefChpPivot.retourTraitementMessagesDt messageRetours;
		private String[] creerPDLElectriciteOutput_type_info = new String[] {'creerPDLElectriciteOutput','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] messageRetours_type_info = new String[] {'messageRetours','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'creerPDLElectriciteOutput','messageRetours'};
	}
	public class majPDLElectriciteInputDt {
		public gdfsuezComBefChpPivot.listeValeursDt typeOffre;
		public String idPDLNouveau;
		public gdfsuezComBefCalypsoPdlelectricite.PDLElectricite donneesPDL;
		private String[] typeOffre_type_info = new String[] {'typeOffre','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] idPDLNouveau_type_info = new String[] {'idPDLNouveau','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] donneesPDL_type_info = new String[] {'donneesPDL','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'typeOffre','idPDLNouveau','donneesPDL'};
	}
	public class majPDLElectriciteResponse_element {
		public gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteOutputDt majPDLElectriciteOutput;
		public gdfsuezComBefChpPivot.retourTraitementMessagesDt messageRetours;
		private String[] majPDLElectriciteOutput_type_info = new String[] {'majPDLElectriciteOutput','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] messageRetours_type_info = new String[] {'messageRetours','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'majPDLElectriciteOutput','messageRetours'};
	}
	public class PDLElectriciteAbstract {
		public String idPDLElectricite;
		private String[] idPDLElectricite_type_info = new String[] {'idPDLElectricite','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'idPDLElectricite'};
	}
	public class creerPDLElectriciteInputDt {
		public gdfsuezComBefChpPivot.listeValeursDt typeOffre;
		public gdfsuezComBefCalypsoPdlelectricite.PDLElectricite donneesPDL;
		private String[] typeOffre_type_info = new String[] {'typeOffre','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] donneesPDL_type_info = new String[] {'donneesPDL','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'typeOffre','donneesPDL'};
	}
	public class lirePDLElectricite_element {
		public gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteInputDt lirePDLElectriciteInput;
		public gdfsuezComBefChpPivot.contextDt context;
		private String[] lirePDLElectriciteInput_type_info = new String[] {'lirePDLElectriciteInput','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] context_type_info = new String[] {'context','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'lirePDLElectriciteInput','context'};
	}
	public class lirePDLElectriciteOutputDt {
		public gdfsuezComBefCalypsoPdlelectricite.PDLElectricite[] donneesPDL;
		private String[] donneesPDL_type_info = new String[] {'donneesPDL','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','-1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'donneesPDL'};
		public override String toString()
		{
			return 'donneesPDL : '+donneesPDL;
		}
	}
	public class accordFournisseurNonTitulaire_element {
		public Boolean autorisationClient;
		public Boolean contratConcluNouveauClientSurSite;
		private String[] autorisationClient_type_info = new String[] {'autorisationClient','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] contratConcluNouveauClientSurSite_type_info = new String[] {'contratConcluNouveauClientSurSite','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'autorisationClient','contratConcluNouveauClientSurSite'};
	}
	public class lirePDLElectriciteInputDt {
		public Boolean online;
		public String loginUtilisateur;
		public gdfsuezComBefChpPivot.listeValeursDt typeOffre;
		public gdfsuezBefCalypsoPdlelectriciteV3.PDLElectricite_element[] PDLElectricite;
		public Boolean historiqueConsommations;
		private String[] online_type_info = new String[] {'online','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','1','false'};
		private String[] loginUtilisateur_type_info = new String[] {'loginUtilisateur','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] typeOffre_type_info = new String[] {'typeOffre','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] PDLElectricite_type_info = new String[] {'PDLElectricite','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'1','50','false'};
		private String[] historiqueConsommations_type_info = new String[] {'historiqueConsommations','http://gdfsuez/bef/calypso/pdlelectricite/v3',null,'0','1','false'};
		private String[] apex_schema_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3','false','false'};
		private String[] field_order_type_info = new String[] {'online','loginUtilisateur','typeOffre','PDLElectricite','historiqueConsommations'};
	}
	public class Dependency {
		public String endpoint_x = 'http://localhost:8080/services/PDLElectricite/v3';
		public Map<String,String> inputHttpHeaders_x;
		public Map<String,String> outputHttpHeaders_x;
		public String clientCertName_x;
		public String clientCert_x;
		public String clientCertPasswd_x;
		public Integer timeout_x;
		private String[] ns_map_type_info = new String[] {'http://gdfsuez/bef/calypso/pdlelectricite/v3', 'gdfsuezBefCalypsoPdlelectriciteV3', 'http://gdfsuez.com/bef/calypso/local', 'gdfsuezComBefCalypsoLocal', 'http://gdfsuez.com/bef/chp/distributeurelectricite', 'gdfsuezComBefChpDistributeurelectric', 'http://gdfsuez.com/bef/chp/pivot', 'gdfsuezComBefChpPivot', 'http://gdfsuez.com/bef/calypso/pdlelectricite', 'gdfsuezComBefCalypsoPdlelectricite', 'http://gdfsuez.com/bef/chp/communadresse', 'gdfsuezComBefChpCommunadresse'};
		public gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteResponse_element LirePDLElectricite(gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteInputDt lirePDLElectriciteInput,gdfsuezComBefChpPivot.contextDt context) {
			gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectricite_element request_x = new gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectricite_element();
			request_x.lirePDLElectriciteInput = lirePDLElectriciteInput;
			request_x.context = context;
			gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteResponse_element response_x;
			Map<String, gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteResponse_element> response_map_x = new Map<String, gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteResponse_element>();
			response_map_x.put('response_x', response_x);
			system.debug('1');
			datetime startCall = datetime.now();
			WebServiceCallout.invoke(
				this,
				request_x,
				response_map_x,
				new String[] {endpoint_x,
					      'tns:LirePDLElectricite',
					      'http://gdfsuez/bef/calypso/pdlelectricite/v3',
					      'lirePDLElectricite',
					      'http://gdfsuez/bef/calypso/pdlelectricite/v3',
					      'lirePDLElectriciteResponse',
					      'gdfsuezBefCalypsoPdlelectriciteV3.lirePDLElectriciteResponse_element'}
				);
			response_x = response_map_x.get('response_x');
			System.debug('Response === '+response_x);
			System.debug(response_map_x.keySet());
			if(HP_Constantes.IS_HAPPE_PROFILE){
				HttpRequest req = new HttpRequest();
				req.setEndpoint(endpoint_x);
				req.setMethod('POST');
				req.setHeader('Content-Type', 'text/xml; charset=UTF-8');
				req.setHeader('SOAPAction', 'tns:LirePDLElectricite');
				req.setBody(JSON.serialize(request_x.lirePDLElectriciteInput));
				HTTPResponse res = new HTTPResponse();				
				if ((response_x.lirePDLElectriciteOutput != null) && (response_x.lirePDLElectriciteOutput.donneesPDL != null)) {
					res.setBody(JSON.serialize(new HP_DistributorEnergyResponse(response_x.lirePDLElectriciteOutput.donneesPDL).toCoreType()));
					res.setStatusCode(200);
				}
				else{
					res.setStatusCode(400);
					if((response_x.messageRetours != null) && (response_x.messageRetours.retourTraitementMessage != null)) {
						final List<gdfsuezComBefChpPivot.retourTraitementMessageDt> pdlMessageRetours = response_x.messageRetours.retourTraitementMessage;
						Map<String, String> resp = new Map<String, String>{
							pdlMessageRetours[0].code => pdlMessageRetours[0].libelle
						};
						res.setBody(JSON.serialize(resp));
					}
					else{
						res.setBody(JSON.serialize(response_x));
					}
				}				
				datetime endCall = datetime.now();
				HP_UTIL_HTTPUtils.saveLogResponse(req, res, (endCall.getTime() - startCall.getTime()));
			}
			return response_x;
		}
		public gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteResponse_element CreerPDLElectricite(gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteInputDt creerPDLElectriciteInput,gdfsuezComBefChpPivot.contextDt contextDt) {
			gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectricite_element request_x = new gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectricite_element();
			request_x.creerPDLElectriciteInput = creerPDLElectriciteInput;
			request_x.contextDt = contextDt;
			gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteResponse_element response_x;
			Map<String, gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteResponse_element> response_map_x = new Map<String, gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteResponse_element>();
			response_map_x.put('response_x', response_x);

			WebServiceCallout.invoke(
			  this,
			  request_x,
			  response_map_x,
			  new String[]{endpoint_x,
			  'tns:CreerPDLElectricite',
			  'http://gdfsuez/bef/calypso/pdlelectricite/v3',
			  'creerPDLElectricite',
			  'http://gdfsuez/bef/calypso/pdlelectricite/v3',
			  'creerPDLElectriciteResponse',
			  'gdfsuezBefCalypsoPdlelectriciteV3.creerPDLElectriciteResponse_element'}
			);
			response_x = response_map_x.get('response_x');
			return response_x;
		}
		public gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteResponse_element MajPDLElectricite(gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteInputDt majPDLElectriciteInput,gdfsuezComBefChpPivot.contextDt context) {
			gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectricite_element request_x = new gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectricite_element();
			request_x.majPDLElectriciteInput = majPDLElectriciteInput;
			request_x.context = context;
			gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteResponse_element response_x;
			Map<String, gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteResponse_element> response_map_x = new Map<String, gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteResponse_element>();
			response_map_x.put('response_x', response_x);
			WebServiceCallout.invoke(
			  this,
			  request_x,
			  response_map_x,
			  new String[]{endpoint_x,
			  'tns:MajPDLElectricite',
			  'http://gdfsuez/bef/calypso/pdlelectricite/v3',
			  'majPDLElectricite',
			  'http://gdfsuez/bef/calypso/pdlelectricite/v3',
			  'majPDLElectriciteResponse',
			  'gdfsuezBefCalypsoPdlelectriciteV3.majPDLElectriciteResponse_element'}
			);
			response_x = response_map_x.get('response_x');
			return response_x;
		}
	}
}